---
layout: default
title: CLI
description: Standards for writing consistent, flexible, and sustainable command-line clients within the Galaxy.
icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
	<title>CLI logo</title>
	<linearGradient id="SVGID_1_" x1="0" x2=".707" y1="0" y2=".707" gradientUnits="userSpaceOnUse">
		<stop offset="0" stop-color="#e6e6ea"/>
		<stop offset=".172" stop-color="#e2e2e6"/>
		<stop offset=".348" stop-color="#d7d6da"/>
		<stop offset=".526" stop-color="#c4c2c5"/>
		<stop offset=".706" stop-color="#a9a7a8"/>
		<stop offset=".885" stop-color="#878484"/>
		<stop offset="1" stop-color="#6d6968"/>
	</linearGradient>
	<path fill="none" d="M.3 1.3h512v512H.3z"/>
	<path fill="#fff" d="M449.1 105.9l-161.6-96c-19.3-11.5-43.1-11.5-62.4 0l-161.6 96c-19.3 11.4-31.2 32.6-31.2 55.5v191.9c0 22.9 11.9 44.1 31.2 55.5l161.6 95.9c9.6 5.7 20.4 8.6 31.2 8.6s21.5-2.9 31.2-8.6l161.6-95.9c19.3-11.5 31.2-32.6 31.2-55.5V161.4c0-22.9-11.9-44.1-31.2-55.5z"/>
	<path fill="#283037" d="M449.1 105.9l-161.6-96c-9.6-5.7-20.4-8.6-31.2-8.6s-21.5 2.9-31.2 8.6l-161.6 96c-19.3 11.4-31.2 32.6-31.2 55.5v191.9c0 22.9 11.9 44.1 31.2 55.5l161.6 95.9c9.6 5.7 20.4 8.6 31.2 8.6s21.5-2.9 31.2-8.6l161.6-95.9c19.3-11.5 31.2-32.6 31.2-55.5V161.4c0-22.9-11.9-44.1-31.2-55.5zm-218.3 389L69.2 399c-15.8-9.4-25.6-26.9-25.6-45.7V161.4c0-18.8 9.8-36.3 25.6-45.7l161.6-95.9c7.8-4.6 16.6-7 25.5-7s17.8 2.4 25.5 7l161.6 95.9c13.3 7.9 22.3 21.6 24.8 37-5.4-11.4-17.4-14.6-31.5-6.3l-152.9 94.5c-19.1 11.1-33.1 23.7-33.1 46.6v188.4c0 13.8 5.5 22.7 14.1 25.3-2.8.5-5.6.8-8.5.8-8.9-.1-17.8-2.5-25.5-7.1z"/>
	<path fill="#4da825" d="M406.8 371.8l-40.3 24.1c-1.1.6-1.9 1.3-1.9 2.6V409c0 1.3.9 1.8 1.9 1.2l40.9-24.8c1.1-.6 1.2-1.8 1.2-3.1V373c.1-1.3-.8-1.8-1.8-1.2z"/>
	<path fill="#fff" d="M321.1 283.2c1.3-.7 2.4.2 2.4 1.9l.1 13.9c5.8-2.3 10.9-2.9 15.5-1.9 1 .3 1.4 1.6 1 3.2l-3.1 12.3c-.2.9-.8 1.9-1.4 2.5-.3.3-.5.5-.8.6-.4.2-.8.3-1.2.2-2.1-.5-7.1-1.6-14.9 2.4-8.2 4.2-11.1 11.3-11 16.6.1 6.3 3.3 8.3 14.5 8.4 14.9.2 21.4 6.8 21.5 21.8.2 14.8-7.7 30.6-19.8 40.4l.3 13.8c0 1.7-1.1 3.6-2.4 4.2l-8.2 4.7c-1.3.7-2.4-.1-2.4-1.8l-.1-13.6c-7 2.9-14.1 3.6-18.6 1.8-.9-.3-1.2-1.6-.9-3l3-12.5c.2-1 .8-2 1.5-2.6.3-.2.5-.4.8-.6.5-.2.9-.3 1.3-.1 4.9 1.6 11.1.9 17.1-2.2 7.6-3.9 12.7-11.6 12.6-19.4-.1-7-3.9-9.9-13.1-10-11.7 0-22.7-2.3-22.9-19.6-.1-14.2 7.3-29 19-38.4l-.1-13.9c0-1.7 1-3.6 2.4-4.3l7.9-4.8z" />
</svg>'
---

<section class="section" id="syntax">
	<h2>Syntax</h2>
	<div class="grid">
		<div class="col">
			<ul>
				<li><code>nodejs</code> vs. <code>bash</code> vs. <code>ruby</code> vs. <code>some other language</code>; it does not matter as each has its value.  Use the appropriate language for the job and follow this guide.</li>
				<li>Always write tests using roundup where necessary.</li>
				<li>Create man pages when further explanation is required and <code>--help</code> flag won't cut it.</li>
				<li>Wrap all scripts in a function. If necessary, call function passing in arguments at the end of the file.</li>
				<li>All variables declared in a function should be set as <code>local</code>.</li>
				<li>Include fallback mechanism for invalid options passed or missing arguments.</li>
				<li>Abstract into functions where necessary.</li>
			</ul>
		</div>
	</div>
</section>

<section class="section" id="exit-codes">
	<h2>Exit Codes</h2>
	<p>All clients should return some exit code.  Use the following table for reasons and why:</p>
	<table>
		<thead>
			<tr>
				<th>Value</th>
				<th>Status</th>
			</tr>
		</thead>
		<tbody>
			<tr><td>0</td><td>Success</td></tr>
			<tr><td>1</td><td>General error; typically a bad flag or value</td></tr>
			<tr><td>2</td><td>Missing dependency</td></tr>
		</tbody>
	</table>
</section>

<section class="section" id="comments">
	<h2>Comments</h2>
	<div class="grid">
		<div class="col">
			<p>Code is written and maintained by people. Ensure your code is descriptive, well commented, and approachable by others. Great code comments convey context or purpose. Do not simply reiterate a component or class name.</p>
			<p>Be sure to write in complete sentences for larger comments and succinct phrases for general notes. And avoid journal style comments in favor of better commit messages and <code>git log</code> for history.</p>
			<p>Comments are not meant to replace version control, so don't comment out code or mark to do later; remove it and create a commit in history.</p>
		</div>
	</div>
</section>

<section class="section" id="organization">
	<h2>Organization</h2>
	<div class="grid">
		<div class="col">
			<ul>
				<li>We tend to read code from top-to-bottom, like a newspaper. Because of this, make your code read that way. e.g. if a function calls another, keep those functions vertically close in the source file. Ideally, keep the caller right above the callee.</li>
				<li>Organize sections of code by component.</li>
				<li>Develop a consistent commenting hierarchy.</li>
				<li>Use consistent white space to your advantage when separating sections of code for scanning larger documents.</li>
			</ul>
		</div>
	</div>
</section>
